import{t as un,r as Ft,a as Xe,c as cn,o as It,n as Ct,w as ne,g as Ze,h as Tt,i as ln,b as Nt,d as R,e as dn,f as hn,j as V,s as $,k as Mt,l as at,u as fn}from"./vue-vendor.j4UHwgIf.js";function qe(r){return dn()?(hn(r),!0):!1}const Ne=new WeakMap,pn=(...r)=>{var e;const t=r[0],n=(e=Ze())==null?void 0:e.proxy;if(n==null&&!Tt())throw new Error("injectLocal must be called in setup");return n&&Ne.has(n)&&t in Ne.get(n)?Ne.get(n)[t]:ln(...r)},kt=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const gn=r=>r!=null,mn=Object.prototype.toString,vn=r=>mn.call(r)==="[object Object]",Q=()=>{},ut=bn();function bn(){var r,e;return kt&&((r=window==null?void 0:window.navigator)==null?void 0:r.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function et(r,e){function t(...n){return new Promise((s,o)=>{Promise.resolve(r(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(s).catch(o)})}return t}const Dt=r=>r();function Ot(r,e={}){let t,n,s=Q;const o=u=>{clearTimeout(u),s(),s=Q};let i;return u=>{const c=R(r),l=R(e.maxWait);return t&&o(t),c<=0||l!==void 0&&l<=0?(n&&(o(n),n=null),Promise.resolve(u())):new Promise((d,f)=>{s=e.rejectOnCancel?f:d,i=u,l&&!n&&(n=setTimeout(()=>{t&&o(t),n=null,d(i())},l)),t=setTimeout(()=>{n&&o(n),n=null,d(u())},c)})}}function yn(...r){let e=0,t,n=!0,s=Q,o,i,a,u,c;!Nt(r[0])&&typeof r[0]=="object"?{delay:i,trailing:a=!0,leading:u=!0,rejectOnCancel:c=!1}=r[0]:[i,a=!0,u=!0,c=!1]=r;const l=()=>{t&&(clearTimeout(t),t=void 0,s(),s=Q)};return f=>{const g=R(i),m=Date.now()-e,v=()=>o=f();return l(),g<=0?(e=Date.now(),v()):(m>g&&(u||!n)?(e=Date.now(),v()):a&&(o=new Promise((b,S)=>{s=c?S:b,t=setTimeout(()=>{e=Date.now(),n=!0,b(v()),l()},Math.max(0,g-m))})),!u&&!t&&(t=setTimeout(()=>n=!0,g)),n=!1,o)}}function wn(r=Dt,e={}){const{initialState:t="active"}=e,n=tt(t==="active");function s(){n.value=!1}function o(){n.value=!0}const i=(...a)=>{n.value&&r(...a)};return{isActive:Ft(n),pause:s,resume:o,eventFilter:i}}function ct(r){return r.endsWith("rem")?Number.parseFloat(r)*16:Number.parseFloat(r)}function En(r){return Ze()}function be(r){return Array.isArray(r)?r:[r]}function tt(...r){if(r.length!==1)return un(...r);const e=r[0];return typeof e=="function"?Ft(cn(()=>({get:e,set:Q}))):Xe(e)}function Sn(r,e=200,t={}){return et(Ot(e,t),r)}function An(r,e=200,t=!1,n=!0,s=!1){return et(yn(e,t,n,s),r)}function Rt(r,e,t={}){const{eventFilter:n=Dt,...s}=t;return ne(r,et(n,e),s)}function _n(r,e,t={}){const{eventFilter:n,initialState:s="active",...o}=t,{eventFilter:i,pause:a,resume:u,isActive:c}=wn(n,{initialState:s});return{stop:Rt(r,e,{...o,eventFilter:i}),pause:a,resume:u,isActive:c}}function Fe(r,e=!0,t){En()?It(r,t):e?r():Ct(r)}function gs(r,e,t={}){const{debounce:n=0,maxWait:s=void 0,...o}=t;return Rt(r,e,{...o,eventFilter:Ot(n,{maxWait:s})})}function xn(r,e,t){return ne(r,e,{...t,immediate:!0})}function ms(r,e,t){let n;Nt(t)?n={evaluating:t}:n={};const{lazy:s=!1,evaluating:o=void 0,shallow:i=!0,onError:a=Q}=n,u=$(!s),c=i?$(e):Xe(e);let l=0;return Mt(async d=>{if(!u.value)return;l++;const f=l;let g=!1;o&&Promise.resolve().then(()=>{o.value=!0});try{const m=await r(v=>{d(()=>{o&&(o.value=!1),g||v()})});f===l&&(c.value=m)}catch(m){a(m)}finally{o&&f===l&&(o.value=!1),g=!0}}),s?V(()=>(u.value=!0,c.value)):c}const K=kt?window:void 0;function Ie(r){var e;const t=R(r);return(e=t==null?void 0:t.$el)!=null?e:t}function H(...r){const e=[],t=()=>{e.forEach(a=>a()),e.length=0},n=(a,u,c,l)=>(a.addEventListener(u,c,l),()=>a.removeEventListener(u,c,l)),s=V(()=>{const a=be(R(r[0])).filter(u=>u!=null);return a.every(u=>typeof u!="string")?a:void 0}),o=xn(()=>{var a,u;return[(u=(a=s.value)==null?void 0:a.map(c=>Ie(c)))!=null?u:[K].filter(c=>c!=null),be(R(s.value?r[1]:r[0])),be(fn(s.value?r[2]:r[1])),R(s.value?r[3]:r[2])]},([a,u,c,l])=>{if(t(),!(a!=null&&a.length)||!(u!=null&&u.length)||!(c!=null&&c.length))return;const d=vn(l)?{...l}:l;e.push(...a.flatMap(f=>u.flatMap(g=>c.map(m=>n(f,g,m,d)))))},{flush:"post"}),i=()=>{o(),t()};return qe(t),i}function Fn(){const r=$(!1),e=Ze();return e&&It(()=>{r.value=!0},e),r}function In(r){const e=Fn();return V(()=>(e.value,!!r()))}function Cn(r){return typeof r=="function"?r:typeof r=="string"?e=>e.key===r:Array.isArray(r)?e=>r.includes(e.key):()=>!0}function vs(...r){let e,t,n={};r.length===3?(e=r[0],t=r[1],n=r[2]):r.length===2?typeof r[1]=="object"?(e=!0,t=r[0],n=r[1]):(e=r[0],t=r[1]):(e=!0,t=r[0]);const{target:s=K,eventName:o="keydown",passive:i=!1,dedupe:a=!1}=n,u=Cn(e);return H(s,o,l=>{l.repeat&&R(a)||u(l)&&t(l)},i)}const Tn=Symbol("vueuse-ssr-width");function Nn(){const r=Tt()?pn(Tn,null):null;return typeof r=="number"?r:void 0}function Lt(r,e={}){const{window:t=K,ssrWidth:n=Nn()}=e,s=In(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function"),o=$(typeof n=="number"),i=$(),a=$(!1),u=c=>{a.value=c.matches};return Mt(()=>{if(o.value){o.value=!s.value;const c=R(r).split(",");a.value=c.some(l=>{const d=l.includes("not all"),f=l.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),g=l.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let m=!!(f||g);return f&&m&&(m=n>=ct(f[1])),g&&m&&(m=n<=ct(g[1])),d?!m:m});return}s.value&&(i.value=t.matchMedia(R(r)),a.value=i.value.matches)}),H(i,"change",u,{passive:!0}),V(()=>a.value)}const he=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe="__vueuse_ssr_handlers__",Mn=kn();function kn(){return fe in he||(he[fe]=he[fe]||{}),he[fe]}function Bt(r,e){return Mn[r]||e}function Dn(r){return Lt("(prefers-color-scheme: dark)",r)}function On(r){return r==null?"any":r instanceof Set?"set":r instanceof Map?"map":r instanceof Date?"date":typeof r=="boolean"?"boolean":typeof r=="string"?"string":typeof r=="object"?"object":Number.isNaN(r)?"any":"number"}const Rn={boolean:{read:r=>r==="true",write:r=>String(r)},object:{read:r=>JSON.parse(r),write:r=>JSON.stringify(r)},number:{read:r=>Number.parseFloat(r),write:r=>String(r)},any:{read:r=>r,write:r=>String(r)},string:{read:r=>r,write:r=>String(r)},map:{read:r=>new Map(JSON.parse(r)),write:r=>JSON.stringify(Array.from(r.entries()))},set:{read:r=>new Set(JSON.parse(r)),write:r=>JSON.stringify(Array.from(r))},date:{read:r=>new Date(r),write:r=>r.toISOString()}},lt="vueuse-storage";function nt(r,e,t,n={}){var s;const{flush:o="pre",deep:i=!0,listenToStorageChanges:a=!0,writeDefaults:u=!0,mergeDefaults:c=!1,shallow:l,window:d=K,eventFilter:f,onError:g=A=>{console.error(A)},initOnMounted:m}=n,v=(l?$:Xe)(typeof e=="function"?e():e),b=V(()=>R(r));if(!t)try{t=Bt("getDefaultStorage",()=>{var A;return(A=K)==null?void 0:A.localStorage})()}catch(A){g(A)}if(!t)return v;const S=R(e),x=On(S),D=(s=n.serializer)!=null?s:Rn[x],{pause:N,resume:L}=_n(v,()=>w(v.value),{flush:o,deep:i,eventFilter:f});ne(b,()=>T(),{flush:o}),d&&a&&Fe(()=>{t instanceof Storage?H(d,"storage",T,{passive:!0}):H(d,lt,B),m&&T()}),m||T();function O(A,y){if(d){const h={key:b.value,oldValue:A,newValue:y,storageArea:t};d.dispatchEvent(t instanceof Storage?new StorageEvent("storage",h):new CustomEvent(lt,{detail:h}))}}function w(A){try{const y=t.getItem(b.value);if(A==null)O(y,null),t.removeItem(b.value);else{const h=D.write(A);y!==h&&(t.setItem(b.value,h),O(y,h))}}catch(y){g(y)}}function k(A){const y=A?A.newValue:t.getItem(b.value);if(y==null)return u&&S!=null&&t.setItem(b.value,D.write(S)),S;if(!A&&c){const h=D.read(y);return typeof c=="function"?c(h,S):x==="object"&&!Array.isArray(h)?{...S,...h}:h}else return typeof y!="string"?y:D.read(y)}function T(A){if(!(A&&A.storageArea!==t)){if(A&&A.key==null){v.value=S;return}if(!(A&&A.key!==b.value)){N();try{(A==null?void 0:A.newValue)!==D.write(v.value)&&(v.value=k(A))}catch(y){g(y)}finally{A?Ct(L):L()}}}}function B(A){T(A.detail)}return v}const Ln="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Bn(r={}){const{selector:e="html",attribute:t="class",initialValue:n="auto",window:s=K,storage:o,storageKey:i="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:u,emitAuto:c,disableTransition:l=!0}=r,d={auto:"",light:"light",dark:"dark",...r.modes||{}},f=Dn({window:s}),g=V(()=>f.value?"dark":"light"),m=u||(i==null?tt(n):nt(i,n,o,{window:s,listenToStorageChanges:a})),v=V(()=>m.value==="auto"?g.value:m.value),b=Bt("updateHTMLAttrs",(N,L,O)=>{const w=typeof N=="string"?s==null?void 0:s.document.querySelector(N):Ie(N);if(!w)return;const k=new Set,T=new Set;let B=null;if(L==="class"){const y=O.split(/\s/g);Object.values(d).flatMap(h=>(h||"").split(/\s/g)).filter(Boolean).forEach(h=>{y.includes(h)?k.add(h):T.add(h)})}else B={key:L,value:O};if(k.size===0&&T.size===0&&B===null)return;let A;l&&(A=s.document.createElement("style"),A.appendChild(document.createTextNode(Ln)),s.document.head.appendChild(A));for(const y of k)w.classList.add(y);for(const y of T)w.classList.remove(y);B&&w.setAttribute(B.key,B.value),l&&(s.getComputedStyle(A).opacity,document.head.removeChild(A))});function S(N){var L;b(e,t,(L=d[N])!=null?L:N)}function x(N){r.onChanged?r.onChanged(N,S):S(N)}ne(v,x,{flush:"post",immediate:!0}),Fe(()=>x(v.value));const D=V({get(){return c?m.value:v.value},set(N){m.value=N}});return Object.assign(D,{store:m,system:g,state:v})}function bs(r={}){const{valueDark:e="dark",valueLight:t=""}=r,n=Bn({...r,onChanged:(i,a)=>{var u;r.onChanged?(u=r.onChanged)==null||u.call(r,i==="dark",a,i):a(i)},modes:{dark:e,light:t}}),s=V(()=>n.system.value);return V({get(){return n.value==="dark"},set(i){const a=i?"dark":"light";s.value===a?n.value="auto":n.value=a}})}function Me(r){return typeof Window<"u"&&r instanceof Window?r.document.documentElement:typeof Document<"u"&&r instanceof Document?r.documentElement:r}const dt=1;function Pn(r,e={}){const{throttle:t=0,idle:n=200,onStop:s=Q,onScroll:o=Q,offset:i={left:0,right:0,top:0,bottom:0},eventListenerOptions:a={capture:!1,passive:!0},behavior:u="auto",window:c=K,onError:l=w=>{console.error(w)}}=e,d=$(0),f=$(0),g=V({get(){return d.value},set(w){v(w,void 0)}}),m=V({get(){return f.value},set(w){v(void 0,w)}});function v(w,k){var T,B,A,y;if(!c)return;const h=R(r);if(!h)return;(A=h instanceof Document?c.document.body:h)==null||A.scrollTo({top:(T=R(k))!=null?T:m.value,left:(B=R(w))!=null?B:g.value,behavior:R(u)});const p=((y=h==null?void 0:h.document)==null?void 0:y.documentElement)||(h==null?void 0:h.documentElement)||h;g!=null&&(d.value=p.scrollLeft),m!=null&&(f.value=p.scrollTop)}const b=$(!1),S=at({left:!0,right:!1,top:!0,bottom:!1}),x=at({left:!1,right:!1,top:!1,bottom:!1}),D=w=>{b.value&&(b.value=!1,x.left=!1,x.right=!1,x.top=!1,x.bottom=!1,s(w))},N=Sn(D,t+n),L=w=>{var k;if(!c)return;const T=((k=w==null?void 0:w.document)==null?void 0:k.documentElement)||(w==null?void 0:w.documentElement)||Ie(w),{display:B,flexDirection:A,direction:y}=getComputedStyle(T),h=y==="rtl"?-1:1,p=T.scrollLeft;x.left=p<d.value,x.right=p>d.value;const E=Math.abs(p*h)<=(i.left||0),I=Math.abs(p*h)+T.clientWidth>=T.scrollWidth-(i.right||0)-dt;B==="flex"&&A==="row-reverse"?(S.left=I,S.right=E):(S.left=E,S.right=I),d.value=p;let F=T.scrollTop;w===c.document&&!F&&(F=c.document.body.scrollTop),x.top=F<f.value,x.bottom=F>f.value;const M=Math.abs(F)<=(i.top||0),C=Math.abs(F)+T.clientHeight>=T.scrollHeight-(i.bottom||0)-dt;B==="flex"&&A==="column-reverse"?(S.top=C,S.bottom=M):(S.top=M,S.bottom=C),f.value=F},O=w=>{var k;if(!c)return;const T=(k=w.target.documentElement)!=null?k:w.target;L(T),b.value=!0,N(w),o(w)};return H(r,"scroll",t?An(O,t,!0,!1):O,a),Fe(()=>{try{const w=R(r);if(!w)return;L(w)}catch(w){l(w)}}),H(r,"scrollend",D,a),{x:g,y:m,isScrolling:b,arrivedState:S,directions:x,measure(){const w=R(r);c&&w&&L(w)}}}function ys(r,e,t={}){const{window:n=K}=t;return nt(r,e,n==null?void 0:n.localStorage,t)}function Pt(r){const e=window.getComputedStyle(r);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&r.clientWidth<r.scrollWidth||e.overflowY==="auto"&&r.clientHeight<r.scrollHeight)return!0;{const t=r.parentNode;return!t||t.tagName==="BODY"?!1:Pt(t)}}function zn(r){const e=r||window.event,t=e.target;return Pt(t)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const ke=new WeakMap;function ws(r,e=!1){const t=$(e);let n=null,s="";ne(tt(r),a=>{const u=Me(R(a));if(u){const c=u;if(ke.get(c)||ke.set(c,c.style.overflow),c.style.overflow!=="hidden"&&(s=c.style.overflow),c.style.overflow==="hidden")return t.value=!0;if(t.value)return c.style.overflow="hidden"}},{immediate:!0});const o=()=>{const a=Me(R(r));!a||t.value||(ut&&(n=H(a,"touchmove",u=>{zn(u)},{passive:!1})),a.style.overflow="hidden",t.value=!0)},i=()=>{const a=Me(R(r));!a||!t.value||(ut&&(n==null||n()),a.style.overflow=s,ke.delete(a),t.value=!1)};return qe(i),V({get(){return t.value},set(a){a?o():i()}})}function Es(r,e,t={}){const{window:n=K}=t;return nt(r,e,n==null?void 0:n.sessionStorage,t)}function Ss(r={}){const{window:e=K,...t}=r;return Pn(e,t)}function As(r={}){const{window:e=K,initialWidth:t=Number.POSITIVE_INFINITY,initialHeight:n=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:o=!0,type:i="inner"}=r,a=$(t),u=$(n),c=()=>{if(e)if(i==="outer")a.value=e.outerWidth,u.value=e.outerHeight;else if(i==="visual"&&e.visualViewport){const{width:d,height:f,scale:g}=e.visualViewport;a.value=Math.round(d*g),u.value=Math.round(f*g)}else o?(a.value=e.innerWidth,u.value=e.innerHeight):(a.value=e.document.documentElement.clientWidth,u.value=e.document.documentElement.clientHeight)};c(),Fe(c);const l={passive:!0};if(H("resize",c,l),e&&i==="visual"&&e.visualViewport&&H(e.visualViewport,"resize",c,l),s){const d=Lt("(orientation: portrait)");ne(d,()=>c())}return{width:a,height:u}}function G(r){return Array.isArray?Array.isArray(r):$t(r)==="[object Array]"}function jn(r){if(typeof r=="string")return r;let e=r+"";return e=="0"&&1/r==-1/0?"-0":e}function $n(r){return r==null?"":jn(r)}function J(r){return typeof r=="string"}function zt(r){return typeof r=="number"}function Vn(r){return r===!0||r===!1||Wn(r)&&$t(r)=="[object Boolean]"}function jt(r){return typeof r=="object"}function Wn(r){return jt(r)&&r!==null}function W(r){return r!=null}function De(r){return!r.trim().length}function $t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const Kn="Incorrect 'index' type",Jn=r=>`Invalid value for key ${r}`,Hn=r=>`Pattern length exceeds max of ${r}.`,Gn=r=>`Missing ${r} property in key`,Yn=r=>`Property 'weight' in key '${r}' must be a positive integer`,ht=Object.prototype.hasOwnProperty;class Un{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(n=>{let s=Vt(n);this._keys.push(s),this._keyMap[s.id]=s,t+=s.weight}),this._keys.forEach(n=>{n.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Vt(r){let e=null,t=null,n=null,s=1,o=null;if(J(r)||G(r))n=r,e=ft(r),t=je(r);else{if(!ht.call(r,"name"))throw new Error(Gn("name"));const i=r.name;if(n=i,ht.call(r,"weight")&&(s=r.weight,s<=0))throw new Error(Yn(i));e=ft(i),t=je(i),o=r.getFn}return{path:e,id:t,weight:s,src:n,getFn:o}}function ft(r){return G(r)?r:r.split(".")}function je(r){return G(r)?r.join("."):r}function Qn(r,e){let t=[],n=!1;const s=(o,i,a)=>{if(W(o))if(!i[a])t.push(o);else{let u=i[a];const c=o[u];if(!W(c))return;if(a===i.length-1&&(J(c)||zt(c)||Vn(c)))t.push($n(c));else if(G(c)){n=!0;for(let l=0,d=c.length;l<d;l+=1)s(c[l],i,a+1)}else i.length&&s(c,i,a+1)}};return s(r,J(e)?e.split("."):e,0),n?t:t[0]}const Xn={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Zn={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(r,e)=>r.score===e.score?r.idx<e.idx?-1:1:r.score<e.score?-1:1},qn={location:0,threshold:.6,distance:100},er={useExtendedSearch:!1,getFn:Qn,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var _={...Zn,...Xn,...qn,...er};const tr=/[^ ]+/g;function nr(r=1,e=3){const t=new Map,n=Math.pow(10,e);return{get(s){const o=s.match(tr).length;if(t.has(o))return t.get(o);const i=1/Math.pow(o,.5*r),a=parseFloat(Math.round(i*n)/n);return t.set(o,a),a},clear(){t.clear()}}}class rt{constructor({getFn:e=_.getFn,fieldNormWeight:t=_.fieldNormWeight}={}){this.norm=nr(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,n)=>{this._keysMap[t.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,J(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();J(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!W(e)||De(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((s,o)=>{let i=s.getFn?s.getFn(e):this.getFn(e,s.path);if(W(i)){if(G(i)){let a=[];const u=[{nestedArrIndex:-1,value:i}];for(;u.length;){const{nestedArrIndex:c,value:l}=u.pop();if(W(l))if(J(l)&&!De(l)){let d={v:l,i:c,n:this.norm.get(l)};a.push(d)}else G(l)&&l.forEach((d,f)=>{u.push({nestedArrIndex:f,value:d})})}n.$[o]=a}else if(J(i)&&!De(i)){let a={v:i,n:this.norm.get(i)};n.$[o]=a}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Wt(r,e,{getFn:t=_.getFn,fieldNormWeight:n=_.fieldNormWeight}={}){const s=new rt({getFn:t,fieldNormWeight:n});return s.setKeys(r.map(Vt)),s.setSources(e),s.create(),s}function rr(r,{getFn:e=_.getFn,fieldNormWeight:t=_.fieldNormWeight}={}){const{keys:n,records:s}=r,o=new rt({getFn:e,fieldNormWeight:t});return o.setKeys(n),o.setIndexRecords(s),o}function pe(r,{errors:e=0,currentLocation:t=0,expectedLocation:n=0,distance:s=_.distance,ignoreLocation:o=_.ignoreLocation}={}){const i=e/r.length;if(o)return i;const a=Math.abs(n-t);return s?i+a/s:a?1:i}function sr(r=[],e=_.minMatchCharLength){let t=[],n=-1,s=-1,o=0;for(let i=r.length;o<i;o+=1){let a=r[o];a&&n===-1?n=o:!a&&n!==-1&&(s=o-1,s-n+1>=e&&t.push([n,s]),n=-1)}return r[o-1]&&o-n>=e&&t.push([n,o-1]),t}const q=32;function ir(r,e,t,{location:n=_.location,distance:s=_.distance,threshold:o=_.threshold,findAllMatches:i=_.findAllMatches,minMatchCharLength:a=_.minMatchCharLength,includeMatches:u=_.includeMatches,ignoreLocation:c=_.ignoreLocation}={}){if(e.length>q)throw new Error(Hn(q));const l=e.length,d=r.length,f=Math.max(0,Math.min(n,d));let g=o,m=f;const v=a>1||u,b=v?Array(d):[];let S;for(;(S=r.indexOf(e,m))>-1;){let w=pe(e,{currentLocation:S,expectedLocation:f,distance:s,ignoreLocation:c});if(g=Math.min(w,g),m=S+l,v){let k=0;for(;k<l;)b[S+k]=1,k+=1}}m=-1;let x=[],D=1,N=l+d;const L=1<<l-1;for(let w=0;w<l;w+=1){let k=0,T=N;for(;k<T;)pe(e,{errors:w,currentLocation:f+T,expectedLocation:f,distance:s,ignoreLocation:c})<=g?k=T:N=T,T=Math.floor((N-k)/2+k);N=T;let B=Math.max(1,f-T+1),A=i?d:Math.min(f+T,d)+l,y=Array(A+2);y[A+1]=(1<<w)-1;for(let p=A;p>=B;p-=1){let E=p-1,I=t[r.charAt(E)];if(v&&(b[E]=+!!I),y[p]=(y[p+1]<<1|1)&I,w&&(y[p]|=(x[p+1]|x[p])<<1|1|x[p+1]),y[p]&L&&(D=pe(e,{errors:w,currentLocation:E,expectedLocation:f,distance:s,ignoreLocation:c}),D<=g)){if(g=D,m=E,m<=f)break;B=Math.max(1,2*f-m)}}if(pe(e,{errors:w+1,currentLocation:f,expectedLocation:f,distance:s,ignoreLocation:c})>g)break;x=y}const O={isMatch:m>=0,score:Math.max(.001,D)};if(v){const w=sr(b,a);w.length?u&&(O.indices=w):O.isMatch=!1}return O}function or(r){let e={};for(let t=0,n=r.length;t<n;t+=1){const s=r.charAt(t);e[s]=(e[s]||0)|1<<n-t-1}return e}const ye=String.prototype.normalize?r=>r.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):r=>r;class Kt{constructor(e,{location:t=_.location,threshold:n=_.threshold,distance:s=_.distance,includeMatches:o=_.includeMatches,findAllMatches:i=_.findAllMatches,minMatchCharLength:a=_.minMatchCharLength,isCaseSensitive:u=_.isCaseSensitive,ignoreDiacritics:c=_.ignoreDiacritics,ignoreLocation:l=_.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:s,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:l},e=u?e:e.toLowerCase(),e=c?ye(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const d=(g,m)=>{this.chunks.push({pattern:g,alphabet:or(g),startIndex:m})},f=this.pattern.length;if(f>q){let g=0;const m=f%q,v=f-m;for(;g<v;)d(this.pattern.substr(g,q),g),g+=q;if(m){const b=f-q;d(this.pattern.substr(b),b)}}else d(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:s}=this.options;if(e=t?e:e.toLowerCase(),e=n?ye(e):e,this.pattern===e){let v={isMatch:!0,score:0};return s&&(v.indices=[[0,e.length-1]]),v}const{location:o,distance:i,threshold:a,findAllMatches:u,minMatchCharLength:c,ignoreLocation:l}=this.options;let d=[],f=0,g=!1;this.chunks.forEach(({pattern:v,alphabet:b,startIndex:S})=>{const{isMatch:x,score:D,indices:N}=ir(e,v,b,{location:o+S,distance:i,threshold:a,findAllMatches:u,minMatchCharLength:c,includeMatches:s,ignoreLocation:l});x&&(g=!0),f+=D,x&&N&&(d=[...d,...N])});let m={isMatch:g,score:g?f/this.chunks.length:1};return g&&s&&(m.indices=d),m}}class X{constructor(e){this.pattern=e}static isMultiMatch(e){return pt(e,this.multiRegex)}static isSingleMatch(e){return pt(e,this.singleRegex)}search(){}}function pt(r,e){const t=r.match(e);return t?t[1]:null}class ar extends X{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class ur extends X{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class cr extends X{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class lr extends X{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class dr extends X{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class hr extends X{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Jt extends X{constructor(e,{location:t=_.location,threshold:n=_.threshold,distance:s=_.distance,includeMatches:o=_.includeMatches,findAllMatches:i=_.findAllMatches,minMatchCharLength:a=_.minMatchCharLength,isCaseSensitive:u=_.isCaseSensitive,ignoreDiacritics:c=_.ignoreDiacritics,ignoreLocation:l=_.ignoreLocation}={}){super(e),this._bitapSearch=new Kt(e,{location:t,threshold:n,distance:s,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Ht extends X{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n;const s=[],o=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+o,s.push([n,t-1]);const i=!!s.length;return{isMatch:i,score:i?0:1,indices:s}}}const $e=[ar,Ht,cr,lr,hr,dr,ur,Jt],gt=$e.length,fr=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,pr="|";function gr(r,e={}){return r.split(pr).map(t=>{let n=t.trim().split(fr).filter(o=>o&&!!o.trim()),s=[];for(let o=0,i=n.length;o<i;o+=1){const a=n[o];let u=!1,c=-1;for(;!u&&++c<gt;){const l=$e[c];let d=l.isMultiMatch(a);d&&(s.push(new l(d,e)),u=!0)}if(!u)for(c=-1;++c<gt;){const l=$e[c];let d=l.isSingleMatch(a);if(d){s.push(new l(d,e));break}}}return s})}const mr=new Set([Jt.type,Ht.type]);class vr{constructor(e,{isCaseSensitive:t=_.isCaseSensitive,ignoreDiacritics:n=_.ignoreDiacritics,includeMatches:s=_.includeMatches,minMatchCharLength:o=_.minMatchCharLength,ignoreLocation:i=_.ignoreLocation,findAllMatches:a=_.findAllMatches,location:u=_.location,threshold:c=_.threshold,distance:l=_.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:s,minMatchCharLength:o,findAllMatches:a,ignoreLocation:i,location:u,threshold:c,distance:l},e=t?e:e.toLowerCase(),e=n?ye(e):e,this.pattern=e,this.query=gr(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:s,ignoreDiacritics:o}=this.options;e=s?e:e.toLowerCase(),e=o?ye(e):e;let i=0,a=[],u=0;for(let c=0,l=t.length;c<l;c+=1){const d=t[c];a.length=0,i=0;for(let f=0,g=d.length;f<g;f+=1){const m=d[f],{isMatch:v,indices:b,score:S}=m.search(e);if(v){if(i+=1,u+=S,n){const x=m.constructor.type;mr.has(x)?a=[...a,...b]:a.push(b)}}else{u=0,i=0,a.length=0;break}}if(i){let f={isMatch:!0,score:u/i};return n&&(f.indices=a),f}}return{isMatch:!1,score:1}}}const Ve=[];function br(...r){Ve.push(...r)}function We(r,e){for(let t=0,n=Ve.length;t<n;t+=1){let s=Ve[t];if(s.condition(r,e))return new s(r,e)}return new Kt(r,e)}const we={AND:"$and",OR:"$or"},Ke={PATH:"$path",PATTERN:"$val"},Je=r=>!!(r[we.AND]||r[we.OR]),yr=r=>!!r[Ke.PATH],wr=r=>!G(r)&&jt(r)&&!Je(r),mt=r=>({[we.AND]:Object.keys(r).map(e=>({[e]:r[e]}))});function Gt(r,e,{auto:t=!0}={}){const n=s=>{let o=Object.keys(s);const i=yr(s);if(!i&&o.length>1&&!Je(s))return n(mt(s));if(wr(s)){const u=i?s[Ke.PATH]:o[0],c=i?s[Ke.PATTERN]:s[u];if(!J(c))throw new Error(Jn(u));const l={keyId:je(u),pattern:c};return t&&(l.searcher=We(c,e)),l}let a={children:[],operator:o[0]};return o.forEach(u=>{const c=s[u];G(c)&&c.forEach(l=>{a.children.push(n(l))})}),a};return Je(r)||(r=mt(r)),n(r)}function Er(r,{ignoreFieldNorm:e=_.ignoreFieldNorm}){r.forEach(t=>{let n=1;t.matches.forEach(({key:s,norm:o,score:i})=>{const a=s?s.weight:null;n*=Math.pow(i===0&&a?Number.EPSILON:i,(a||1)*(e?1:o))}),t.score=n})}function Sr(r,e){const t=r.matches;e.matches=[],W(t)&&t.forEach(n=>{if(!W(n.indices)||!n.indices.length)return;const{indices:s,value:o}=n;let i={indices:s,value:o};n.key&&(i.key=n.key.src),n.idx>-1&&(i.refIndex=n.idx),e.matches.push(i)})}function Ar(r,e){e.score=r.score}function _r(r,e,{includeMatches:t=_.includeMatches,includeScore:n=_.includeScore}={}){const s=[];return t&&s.push(Sr),n&&s.push(Ar),r.map(o=>{const{idx:i}=o,a={item:e[i],refIndex:i};return s.length&&s.forEach(u=>{u(o,a)}),a})}class de{constructor(e,t={},n){this.options={..._,...t},this.options.useExtendedSearch,this._keyStore=new Un(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof rt))throw new Error(Kn);this._myIndex=t||Wt(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){W(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,s=this._docs.length;n<s;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,s-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:s,shouldSort:o,sortFn:i,ignoreFieldNorm:a}=this.options;let u=J(e)?J(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Er(u,{ignoreFieldNorm:a}),o&&u.sort(i),zt(t)&&t>-1&&(u=u.slice(0,t)),_r(u,this._docs,{includeMatches:n,includeScore:s})}_searchStringList(e){const t=We(e,this.options),{records:n}=this._myIndex,s=[];return n.forEach(({v:o,i,n:a})=>{if(!W(o))return;const{isMatch:u,score:c,indices:l}=t.searchIn(o);u&&s.push({item:o,idx:i,matches:[{score:c,value:o,norm:a,indices:l}]})}),s}_searchLogical(e){const t=Gt(e,this.options),n=(a,u,c)=>{if(!a.children){const{keyId:d,searcher:f}=a,g=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(u,d),searcher:f});return g&&g.length?[{idx:c,item:u,matches:g}]:[]}const l=[];for(let d=0,f=a.children.length;d<f;d+=1){const g=a.children[d],m=n(g,u,c);if(m.length)l.push(...m);else if(a.operator===we.AND)return[]}return l},s=this._myIndex.records,o={},i=[];return s.forEach(({$:a,i:u})=>{if(W(a)){let c=n(t,a,u);c.length&&(o[u]||(o[u]={idx:u,item:a,matches:[]},i.push(o[u])),c.forEach(({matches:l})=>{o[u].matches.push(...l)}))}}),i}_searchObjectList(e){const t=We(e,this.options),{keys:n,records:s}=this._myIndex,o=[];return s.forEach(({$:i,i:a})=>{if(!W(i))return;let u=[];n.forEach((c,l)=>{u.push(...this._findMatches({key:c,value:i[l],searcher:t}))}),u.length&&o.push({idx:a,item:i,matches:u})}),o}_findMatches({key:e,value:t,searcher:n}){if(!W(t))return[];let s=[];if(G(t))t.forEach(({v:o,i,n:a})=>{if(!W(o))return;const{isMatch:u,score:c,indices:l}=n.searchIn(o);u&&s.push({score:c,key:e,value:o,idx:i,norm:a,indices:l})});else{const{v:o,n:i}=t,{isMatch:a,score:u,indices:c}=n.searchIn(o);a&&s.push({score:u,key:e,value:o,norm:i,indices:c})}return s}}de.version="7.1.0";de.createIndex=Wt;de.parseIndex=rr;de.config=_;de.parseQuery=Gt;br(vr);/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Yt=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ee=Yt.join(","),Ut=typeof Element>"u",te=Ut?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Se=!Ut&&Element.prototype.getRootNode?function(r){var e;return r==null||(e=r.getRootNode)===null||e===void 0?void 0:e.call(r)}:function(r){return r==null?void 0:r.ownerDocument},Ae=function r(e,t){var n;t===void 0&&(t=!0);var s=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),o=s===""||s==="true",i=o||t&&e&&r(e.parentNode);return i},xr=function(e){var t,n=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return n===""||n==="true"},Qt=function(e,t,n){if(Ae(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(Ee));return t&&te.call(e,Ee)&&s.unshift(e),s=s.filter(n),s},Xt=function r(e,t,n){for(var s=[],o=Array.from(e);o.length;){var i=o.shift();if(!Ae(i,!1))if(i.tagName==="SLOT"){var a=i.assignedElements(),u=a.length?a:i.children,c=r(u,!0,n);n.flatten?s.push.apply(s,c):s.push({scopeParent:i,candidates:c})}else{var l=te.call(i,Ee);l&&n.filter(i)&&(t||!e.includes(i))&&s.push(i);var d=i.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(i),f=!Ae(d,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(i));if(d&&f){var g=r(d===!0?i.children:d.children,!0,n);n.flatten?s.push.apply(s,g):s.push({scopeParent:i,candidates:g})}else o.unshift.apply(o,i.children)}}return s},Zt=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ee=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||xr(e))&&!Zt(e)?0:e.tabIndex},Fr=function(e,t){var n=ee(e);return n<0&&t&&!Zt(e)?0:n},Ir=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},qt=function(e){return e.tagName==="INPUT"},Cr=function(e){return qt(e)&&e.type==="hidden"},Tr=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return t},Nr=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},Mr=function(e){if(!e.name)return!0;var t=e.form||Se(e),n=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=n(window.CSS.escape(e.name));else try{s=n(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var o=Nr(s,e.form);return!o||o===e},kr=function(e){return qt(e)&&e.type==="radio"},Dr=function(e){return kr(e)&&!Mr(e)},Or=function(e){var t,n=e&&Se(e),s=(t=n)===null||t===void 0?void 0:t.host,o=!1;if(n&&n!==e){var i,a,u;for(o=!!((i=s)!==null&&i!==void 0&&(a=i.ownerDocument)!==null&&a!==void 0&&a.contains(s)||e!=null&&(u=e.ownerDocument)!==null&&u!==void 0&&u.contains(e));!o&&s;){var c,l,d;n=Se(s),s=(c=n)===null||c===void 0?void 0:c.host,o=!!((l=s)!==null&&l!==void 0&&(d=l.ownerDocument)!==null&&d!==void 0&&d.contains(s))}}return o},vt=function(e){var t=e.getBoundingClientRect(),n=t.width,s=t.height;return n===0&&s===0},Rr=function(e,t){var n=t.displayCheck,s=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=te.call(e,"details>summary:first-of-type"),i=o?e.parentElement:e;if(te.call(i,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof s=="function"){for(var a=e;e;){var u=e.parentElement,c=Se(e);if(u&&!u.shadowRoot&&s(u)===!0)return vt(e);e.assignedSlot?e=e.assignedSlot:!u&&c!==e.ownerDocument?e=c.host:e=u}e=a}if(Or(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return vt(e);return!1},Lr=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var n=0;n<t.children.length;n++){var s=t.children.item(n);if(s.tagName==="LEGEND")return te.call(t,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}t=t.parentElement}return!1},_e=function(e,t){return!(t.disabled||Ae(t)||Cr(t)||Rr(t,e)||Tr(t)||Lr(t))},He=function(e,t){return!(Dr(t)||ee(t)<0||!_e(e,t))},Br=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Pr=function r(e){var t=[],n=[];return e.forEach(function(s,o){var i=!!s.scopeParent,a=i?s.scopeParent:s,u=Fr(a,i),c=i?r(s.candidates):a;u===0?i?t.push.apply(t,c):t.push(a):n.push({documentOrder:o,tabIndex:u,item:s,isScope:i,content:c})}),n.sort(Ir).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(t)},zr=function(e,t){t=t||{};var n;return t.getShadowRoot?n=Xt([e],t.includeContainer,{filter:He.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Br}):n=Qt(e,t.includeContainer,He.bind(null,t)),Pr(n)},jr=function(e,t){t=t||{};var n;return t.getShadowRoot?n=Xt([e],t.includeContainer,{filter:_e.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):n=Qt(e,t.includeContainer,_e.bind(null,t)),n},re=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return te.call(e,Ee)===!1?!1:He(t,e)},$r=Yt.concat("iframe").join(","),Oe=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return te.call(e,$r)===!1?!1:_e(t,e)};/*!
* focus-trap 7.6.5
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Ge(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function Vr(r){if(Array.isArray(r))return Ge(r)}function Wr(r,e,t){return(e=Yr(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Kr(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Jr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bt(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function yt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bt(Object(t),!0).forEach(function(n){Wr(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bt(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Hr(r){return Vr(r)||Kr(r)||Ur(r)||Jr()}function Gr(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Yr(r){var e=Gr(r,"string");return typeof e=="symbol"?e:e+""}function Ur(r,e){if(r){if(typeof r=="string")return Ge(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ge(r,e):void 0}}var wt={activateTrap:function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n._setPausedState(!0)}var s=e.indexOf(t);s===-1||e.splice(s,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},Qr=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Xr=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},ce=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Zr=function(e){return ce(e)&&!e.shiftKey},qr=function(e){return ce(e)&&e.shiftKey},Et=function(e){return setTimeout(e,0)},ue=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return typeof e=="function"?e.apply(void 0,n):e},ge=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},es=[],ts=function(e,t){var n=(t==null?void 0:t.document)||document,s=(t==null?void 0:t.trapStack)||es,o=yt({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Zr,isKeyBackward:qr},t),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,u=function(h,p,E){return h&&h[p]!==void 0?h[p]:o[E||p]},c=function(h,p){var E=typeof(p==null?void 0:p.composedPath)=="function"?p.composedPath():void 0;return i.containerGroups.findIndex(function(I){var F=I.container,M=I.tabbableNodes;return F.contains(h)||(E==null?void 0:E.includes(F))||M.find(function(C){return C===h})})},l=function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=p.hasFallback,I=E===void 0?!1:E,F=p.params,M=F===void 0?[]:F,C=o[h];if(typeof C=="function"&&(C=C.apply(void 0,Hr(M))),C===!0&&(C=void 0),!C){if(C===void 0||C===!1)return C;throw new Error("`".concat(h,"` was specified but was not a node, or did not return a node"))}var P=C;if(typeof C=="string"){try{P=n.querySelector(C)}catch(z){throw new Error("`".concat(h,'` appears to be an invalid selector; error="').concat(z.message,'"'))}if(!P&&!I)throw new Error("`".concat(h,"` as selector refers to no known node"))}return P},d=function(){var h=l("initialFocus",{hasFallback:!0});if(h===!1)return!1;if(h===void 0||h&&!Oe(h,o.tabbableOptions))if(c(n.activeElement)>=0)h=n.activeElement;else{var p=i.tabbableGroups[0],E=p&&p.firstTabbableNode;h=E||l("fallbackFocus")}else h===null&&(h=l("fallbackFocus"));if(!h)throw new Error("Your focus-trap needs to have at least one focusable element");return h},f=function(){if(i.containerGroups=i.containers.map(function(h){var p=zr(h,o.tabbableOptions),E=jr(h,o.tabbableOptions),I=p.length>0?p[0]:void 0,F=p.length>0?p[p.length-1]:void 0,M=E.find(function(z){return re(z)}),C=E.slice().reverse().find(function(z){return re(z)}),P=!!p.find(function(z){return ee(z)>0});return{container:h,tabbableNodes:p,focusableNodes:E,posTabIndexesFound:P,firstTabbableNode:I,lastTabbableNode:F,firstDomTabbableNode:M,lastDomTabbableNode:C,nextTabbableNode:function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Y=p.indexOf(Z);return Y<0?oe?E.slice(E.indexOf(Z)+1).find(function(ae){return re(ae)}):E.slice(0,E.indexOf(Z)).reverse().find(function(ae){return re(ae)}):p[Y+(oe?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(h){return h.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!l("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(h){return h.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},g=function(h){var p=h.activeElement;if(p)return p.shadowRoot&&p.shadowRoot.activeElement!==null?g(p.shadowRoot):p},m=function(h){if(h!==!1&&h!==g(document)){if(!h||!h.focus){m(d());return}h.focus({preventScroll:!!o.preventScroll}),i.mostRecentlyFocusedNode=h,Qr(h)&&h.select()}},v=function(h){var p=l("setReturnFocus",{params:[h]});return p||(p===!1?!1:h)},b=function(h){var p=h.target,E=h.event,I=h.isBackward,F=I===void 0?!1:I;p=p||ge(E),f();var M=null;if(i.tabbableGroups.length>0){var C=c(p,E),P=C>=0?i.containerGroups[C]:void 0;if(C<0)F?M=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:M=i.tabbableGroups[0].firstTabbableNode;else if(F){var z=i.tabbableGroups.findIndex(function(Ce){var Te=Ce.firstTabbableNode;return p===Te});if(z<0&&(P.container===p||Oe(p,o.tabbableOptions)&&!re(p,o.tabbableOptions)&&!P.nextTabbableNode(p,!1))&&(z=C),z>=0){var Z=z===0?i.tabbableGroups.length-1:z-1,oe=i.tabbableGroups[Z];M=ee(p)>=0?oe.lastTabbableNode:oe.lastDomTabbableNode}else ce(E)||(M=P.nextTabbableNode(p,!1))}else{var Y=i.tabbableGroups.findIndex(function(Ce){var Te=Ce.lastTabbableNode;return p===Te});if(Y<0&&(P.container===p||Oe(p,o.tabbableOptions)&&!re(p,o.tabbableOptions)&&!P.nextTabbableNode(p))&&(Y=C),Y>=0){var ae=Y===i.tabbableGroups.length-1?0:Y+1,ot=i.tabbableGroups[ae];M=ee(p)>=0?ot.firstTabbableNode:ot.firstDomTabbableNode}else ce(E)||(M=P.nextTabbableNode(p))}}else M=l("fallbackFocus");return M},S=function(h){var p=ge(h);if(!(c(p,h)>=0)){if(ue(o.clickOutsideDeactivates,h)){a.deactivate({returnFocus:o.returnFocusOnDeactivate});return}ue(o.allowOutsideClick,h)||h.preventDefault()}},x=function(h){var p=ge(h),E=c(p,h)>=0;if(E||p instanceof Document)E&&(i.mostRecentlyFocusedNode=p);else{h.stopImmediatePropagation();var I,F=!0;if(i.mostRecentlyFocusedNode)if(ee(i.mostRecentlyFocusedNode)>0){var M=c(i.mostRecentlyFocusedNode),C=i.containerGroups[M].tabbableNodes;if(C.length>0){var P=C.findIndex(function(z){return z===i.mostRecentlyFocusedNode});P>=0&&(o.isKeyForward(i.recentNavEvent)?P+1<C.length&&(I=C[P+1],F=!1):P-1>=0&&(I=C[P-1],F=!1))}}else i.containerGroups.some(function(z){return z.tabbableNodes.some(function(Z){return ee(Z)>0})})||(F=!1);else F=!1;F&&(I=b({target:i.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(i.recentNavEvent)})),m(I||i.mostRecentlyFocusedNode||d())}i.recentNavEvent=void 0},D=function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=h;var E=b({event:h,isBackward:p});E&&(ce(h)&&h.preventDefault(),m(E))},N=function(h){(o.isKeyForward(h)||o.isKeyBackward(h))&&D(h,o.isKeyBackward(h))},L=function(h){Xr(h)&&ue(o.escapeDeactivates,h)!==!1&&(h.preventDefault(),a.deactivate())},O=function(h){var p=ge(h);c(p,h)>=0||ue(o.clickOutsideDeactivates,h)||ue(o.allowOutsideClick,h)||(h.preventDefault(),h.stopImmediatePropagation())},w=function(){if(i.active)return wt.activateTrap(s,a),i.delayInitialFocusTimer=o.delayInitialFocus?Et(function(){m(d())}):m(d()),n.addEventListener("focusin",x,!0),n.addEventListener("mousedown",S,{capture:!0,passive:!1}),n.addEventListener("touchstart",S,{capture:!0,passive:!1}),n.addEventListener("click",O,{capture:!0,passive:!1}),n.addEventListener("keydown",N,{capture:!0,passive:!1}),n.addEventListener("keydown",L),a},k=function(){if(i.active)return n.removeEventListener("focusin",x,!0),n.removeEventListener("mousedown",S,!0),n.removeEventListener("touchstart",S,!0),n.removeEventListener("click",O,!0),n.removeEventListener("keydown",N,!0),n.removeEventListener("keydown",L),a},T=function(h){var p=h.some(function(E){var I=Array.from(E.removedNodes);return I.some(function(F){return F===i.mostRecentlyFocusedNode})});p&&m(d())},B=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(T):void 0,A=function(){B&&(B.disconnect(),i.active&&!i.paused&&i.containers.map(function(h){B.observe(h,{subtree:!0,childList:!0})}))};return a={get active(){return i.active},get paused(){return i.paused},activate:function(h){if(i.active)return this;var p=u(h,"onActivate"),E=u(h,"onPostActivate"),I=u(h,"checkCanFocusTrap");I||f(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=g(n),p==null||p();var F=function(){I&&f(),w(),A(),E==null||E()};return I?(I(i.containers.concat()).then(F,F),this):(F(),this)},deactivate:function(h){if(!i.active)return this;var p=yt({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},h);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,k(),i.active=!1,i.paused=!1,A(),wt.deactivateTrap(s,a);var E=u(p,"onDeactivate"),I=u(p,"onPostDeactivate"),F=u(p,"checkCanReturnFocus"),M=u(p,"returnFocus","returnFocusOnDeactivate");E==null||E();var C=function(){Et(function(){M&&m(v(i.nodeFocusedBeforeActivation)),I==null||I()})};return M&&F?(F(v(i.nodeFocusedBeforeActivation)).then(C,C),this):(C(),this)},pause:function(h){return i.active?(i.manuallyPaused=!0,this._setPausedState(!0,h)):this},unpause:function(h){return i.active?(i.manuallyPaused=!1,s[s.length-1]!==this?this:this._setPausedState(!1,h)):this},updateContainerElements:function(h){var p=[].concat(h).filter(Boolean);return i.containers=p.map(function(E){return typeof E=="string"?n.querySelector(E):E}),i.active&&f(),A(),this}},Object.defineProperties(a,{_isManuallyPaused:{value:function(){return i.manuallyPaused}},_setPausedState:{value:function(h,p){if(i.paused===h)return this;if(i.paused=h,h){var E=u(p,"onPause"),I=u(p,"onPostPause");E==null||E(),k(),A(),I==null||I()}else{var F=u(p,"onUnpause"),M=u(p,"onPostUnpause");F==null||F(),f(),w(),A(),M==null||M()}return this}}}),a.updateContainerElements(e),a};function _s(r,e={}){let t;const{immediate:n,...s}=e,o=$(!1),i=$(!1),a=f=>t&&t.activate(f),u=f=>t&&t.deactivate(f),c=()=>{t&&(t.pause(),i.value=!0)},l=()=>{t&&(t.unpause(),i.value=!1)},d=V(()=>{const f=R(r);return be(f).map(g=>{const m=R(g);return typeof m=="string"?m:Ie(m)}).filter(gn)});return ne(d,f=>{f.length&&(t=ts(f,{...s,onActivate(){o.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){o.value=!1,e.onDeactivate&&e.onDeactivate()}}),n&&a())},{flush:"post"}),qe(()=>u()),{hasFocus:o,isPaused:i,activate:a,deactivate:u,pause:c,unpause:l}}class ie{constructor(e,t=!0,n=[],s=5e3){this.ctx=e,this.iframes=t,this.exclude=n,this.iframesTimeout=s}static matches(e,t){const n=typeof t=="string"?[t]:t,s=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;if(s){let o=!1;return n.every(i=>s.call(e,i)?(o=!0,!1):!0),o}else return!1}getContexts(){let e,t=[];return typeof this.ctx>"u"||!this.ctx?e=[]:NodeList.prototype.isPrototypeOf(this.ctx)?e=Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?e=this.ctx:typeof this.ctx=="string"?e=Array.prototype.slice.call(document.querySelectorAll(this.ctx)):e=[this.ctx],e.forEach(n=>{const s=t.filter(o=>o.contains(n)).length>0;t.indexOf(n)===-1&&!s&&t.push(n)}),t}getIframeContents(e,t,n=()=>{}){let s;try{const o=e.contentWindow;if(s=o.document,!o||!s)throw new Error("iframe inaccessible")}catch{n()}s&&t(s)}isIframeBlank(e){const t="about:blank",n=e.getAttribute("src").trim();return e.contentWindow.location.href===t&&n!==t&&n}observeIframeLoad(e,t,n){let s=!1,o=null;const i=()=>{if(!s){s=!0,clearTimeout(o);try{this.isIframeBlank(e)||(e.removeEventListener("load",i),this.getIframeContents(e,t,n))}catch{n()}}};e.addEventListener("load",i),o=setTimeout(i,this.iframesTimeout)}onIframeReady(e,t,n){try{e.contentWindow.document.readyState==="complete"?this.isIframeBlank(e)?this.observeIframeLoad(e,t,n):this.getIframeContents(e,t,n):this.observeIframeLoad(e,t,n)}catch{n()}}waitForIframes(e,t){let n=0;this.forEachIframe(e,()=>!0,s=>{n++,this.waitForIframes(s.querySelector("html"),()=>{--n||t()})},s=>{s||t()})}forEachIframe(e,t,n,s=()=>{}){let o=e.querySelectorAll("iframe"),i=o.length,a=0;o=Array.prototype.slice.call(o);const u=()=>{--i<=0&&s(a)};i||u(),o.forEach(c=>{ie.matches(c,this.exclude)?u():this.onIframeReady(c,l=>{t(c)&&(a++,n(l)),u()},u)})}createIterator(e,t,n){return document.createNodeIterator(e,t,n,!1)}createInstanceOnIframe(e){return new ie(e.querySelector("html"),this.iframes)}compareNodeIframe(e,t,n){const s=e.compareDocumentPosition(n),o=Node.DOCUMENT_POSITION_PRECEDING;if(s&o)if(t!==null){const i=t.compareDocumentPosition(n),a=Node.DOCUMENT_POSITION_FOLLOWING;if(i&a)return!0}else return!0;return!1}getIteratorNode(e){const t=e.previousNode();let n;return t===null?n=e.nextNode():n=e.nextNode()&&e.nextNode(),{prevNode:t,node:n}}checkIframeFilter(e,t,n,s){let o=!1,i=!1;return s.forEach((a,u)=>{a.val===n&&(o=u,i=a.handled)}),this.compareNodeIframe(e,t,n)?(o===!1&&!i?s.push({val:n,handled:!0}):o!==!1&&!i&&(s[o].handled=!0),!0):(o===!1&&s.push({val:n,handled:!1}),!1)}handleOpenIframes(e,t,n,s){e.forEach(o=>{o.handled||this.getIframeContents(o.val,i=>{this.createInstanceOnIframe(i).forEachNode(t,n,s)})})}iterateThroughNodes(e,t,n,s,o){const i=this.createIterator(t,e,s);let a=[],u=[],c,l,d=()=>({prevNode:l,node:c}=this.getIteratorNode(i),c);for(;d();)this.iframes&&this.forEachIframe(t,f=>this.checkIframeFilter(c,l,f,a),f=>{this.createInstanceOnIframe(f).forEachNode(e,g=>u.push(g),s)}),u.push(c);u.forEach(f=>{n(f)}),this.iframes&&this.handleOpenIframes(a,e,n,s),o()}forEachNode(e,t,n,s=()=>{}){const o=this.getContexts();let i=o.length;i||s(),o.forEach(a=>{const u=()=>{this.iterateThroughNodes(e,a,t,n,()=>{--i<=0&&s()})};this.iframes?this.waitForIframes(a,u):u()})}}let ns=class{constructor(e){this.ctx=e,this.ie=!1;const t=window.navigator.userAgent;(t.indexOf("MSIE")>-1||t.indexOf("Trident")>-1)&&(this.ie=!0)}set opt(e){this._opt=Object.assign({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:()=>{},noMatch:()=>{},filter:()=>!0,done:()=>{},debug:!1,log:window.console},e)}get opt(){return this._opt}get iterator(){return new ie(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}log(e,t="debug"){const n=this.opt.log;this.opt.debug&&typeof n=="object"&&typeof n[t]=="function"&&n[t](`mark.js: ${e}`)}escapeStr(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}createRegExp(e){return this.opt.wildcards!=="disabled"&&(e=this.setupWildcardsRegExp(e)),e=this.escapeStr(e),Object.keys(this.opt.synonyms).length&&(e=this.createSynonymsRegExp(e)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.setupIgnoreJoinersRegExp(e)),this.opt.diacritics&&(e=this.createDiacriticsRegExp(e)),e=this.createMergedBlanksRegExp(e),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.createJoinersRegExp(e)),this.opt.wildcards!=="disabled"&&(e=this.createWildcardsRegExp(e)),e=this.createAccuracyRegExp(e),e}createSynonymsRegExp(e){const t=this.opt.synonyms,n=this.opt.caseSensitive?"":"i",s=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(let o in t)if(t.hasOwnProperty(o)){const i=t[o],a=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(o):this.escapeStr(o),u=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(i):this.escapeStr(i);a!==""&&u!==""&&(e=e.replace(new RegExp(`(${this.escapeStr(a)}|${this.escapeStr(u)})`,`gm${n}`),s+`(${this.processSynomyms(a)}|${this.processSynomyms(u)})`+s))}return e}processSynomyms(e){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.setupIgnoreJoinersRegExp(e)),e}setupWildcardsRegExp(e){return e=e.replace(/(?:\\)*\?/g,t=>t.charAt(0)==="\\"?"?":""),e.replace(/(?:\\)*\*/g,t=>t.charAt(0)==="\\"?"*":"")}createWildcardsRegExp(e){let t=this.opt.wildcards==="withSpaces";return e.replace(/\u0001/g,t?"[\\S\\s]?":"\\S?").replace(/\u0002/g,t?"[\\S\\s]*?":"\\S*")}setupIgnoreJoinersRegExp(e){return e.replace(/[^(|)\\]/g,(t,n,s)=>{let o=s.charAt(n+1);return/[(|)\\]/.test(o)||o===""?t:t+"\0"})}createJoinersRegExp(e){let t=[];const n=this.opt.ignorePunctuation;return Array.isArray(n)&&n.length&&t.push(this.escapeStr(n.join(""))),this.opt.ignoreJoiners&&t.push("\\u00ad\\u200b\\u200c\\u200d"),t.length?e.split(/\u0000+/).join(`[${t.join("")}]*`):e}createDiacriticsRegExp(e){const t=this.opt.caseSensitive?"":"i",n=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"];let s=[];return e.split("").forEach(o=>{n.every(i=>{if(i.indexOf(o)!==-1){if(s.indexOf(i)>-1)return!1;e=e.replace(new RegExp(`[${i}]`,`gm${t}`),`[${i}]`),s.push(i)}return!0})}),e}createMergedBlanksRegExp(e){return e.replace(/[\s]+/gmi,"[\\s]+")}createAccuracyRegExp(e){const t="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿";let n=this.opt.accuracy,s=typeof n=="string"?n:n.value,o=typeof n=="string"?[]:n.limiters,i="";switch(o.forEach(a=>{i+=`|${this.escapeStr(a)}`}),s){case"partially":default:return`()(${e})`;case"complementary":return i="\\s"+(i||this.escapeStr(t)),`()([^${i}]*${e}[^${i}]*)`;case"exactly":return`(^|\\s${i})(${e})(?=$|\\s${i})`}}getSeparatedKeywords(e){let t=[];return e.forEach(n=>{this.opt.separateWordSearch?n.split(" ").forEach(s=>{s.trim()&&t.indexOf(s)===-1&&t.push(s)}):n.trim()&&t.indexOf(n)===-1&&t.push(n)}),{keywords:t.sort((n,s)=>s.length-n.length),length:t.length}}isNumeric(e){return Number(parseFloat(e))==e}checkRanges(e){if(!Array.isArray(e)||Object.prototype.toString.call(e[0])!=="[object Object]")return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(e),[];const t=[];let n=0;return e.sort((s,o)=>s.start-o.start).forEach(s=>{let{start:o,end:i,valid:a}=this.callNoMatchOnInvalidRanges(s,n);a&&(s.start=o,s.length=i-o,t.push(s),n=i)}),t}callNoMatchOnInvalidRanges(e,t){let n,s,o=!1;return e&&typeof e.start<"u"?(n=parseInt(e.start,10),s=n+parseInt(e.length,10),this.isNumeric(e.start)&&this.isNumeric(e.length)&&s-t>0&&s-n>0?o=!0:(this.log(`Ignoring invalid or overlapping range: ${JSON.stringify(e)}`),this.opt.noMatch(e))):(this.log(`Ignoring invalid range: ${JSON.stringify(e)}`),this.opt.noMatch(e)),{start:n,end:s,valid:o}}checkWhitespaceRanges(e,t,n){let s,o=!0,i=n.length,a=t-i,u=parseInt(e.start,10)-a;return u=u>i?i:u,s=u+parseInt(e.length,10),s>i&&(s=i,this.log(`End range automatically set to the max value of ${i}`)),u<0||s-u<0||u>i||s>i?(o=!1,this.log(`Invalid range: ${JSON.stringify(e)}`),this.opt.noMatch(e)):n.substring(u,s).replace(/\s+/g,"")===""&&(o=!1,this.log("Skipping whitespace only range: "+JSON.stringify(e)),this.opt.noMatch(e)),{start:u,end:s,valid:o}}getTextNodes(e){let t="",n=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,s=>{n.push({start:t.length,end:(t+=s.textContent).length,node:s})},s=>this.matchesExclude(s.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT,()=>{e({value:t,nodes:n})})}matchesExclude(e){return ie.matches(e,this.opt.exclude.concat(["script","style","title","head","html"]))}wrapRangeInTextNode(e,t,n){const s=this.opt.element?this.opt.element:"mark",o=e.splitText(t),i=o.splitText(n-t);let a=document.createElement(s);return a.setAttribute("data-markjs","true"),this.opt.className&&a.setAttribute("class",this.opt.className),a.textContent=o.textContent,o.parentNode.replaceChild(a,o),i}wrapRangeInMappedTextNode(e,t,n,s,o){e.nodes.every((i,a)=>{const u=e.nodes[a+1];if(typeof u>"u"||u.start>t){if(!s(i.node))return!1;const c=t-i.start,l=(n>i.end?i.end:n)-i.start,d=e.value.substr(0,i.start),f=e.value.substr(l+i.start);if(i.node=this.wrapRangeInTextNode(i.node,c,l),e.value=d+f,e.nodes.forEach((g,m)=>{m>=a&&(e.nodes[m].start>0&&m!==a&&(e.nodes[m].start-=l),e.nodes[m].end-=l)}),n-=l,o(i.node.previousSibling,i.start),n>i.end)t=i.end;else return!1}return!0})}wrapMatches(e,t,n,s,o){const i=t===0?0:t+1;this.getTextNodes(a=>{a.nodes.forEach(u=>{u=u.node;let c;for(;(c=e.exec(u.textContent))!==null&&c[i]!=="";){if(!n(c[i],u))continue;let l=c.index;if(i!==0)for(let d=1;d<i;d++)l+=c[d].length;u=this.wrapRangeInTextNode(u,l,l+c[i].length),s(u.previousSibling),e.lastIndex=0}}),o()})}wrapMatchesAcrossElements(e,t,n,s,o){const i=t===0?0:t+1;this.getTextNodes(a=>{let u;for(;(u=e.exec(a.value))!==null&&u[i]!=="";){let c=u.index;if(i!==0)for(let d=1;d<i;d++)c+=u[d].length;const l=c+u[i].length;this.wrapRangeInMappedTextNode(a,c,l,d=>n(u[i],d),(d,f)=>{e.lastIndex=f,s(d)})}o()})}wrapRangeFromIndex(e,t,n,s){this.getTextNodes(o=>{const i=o.value.length;e.forEach((a,u)=>{let{start:c,end:l,valid:d}=this.checkWhitespaceRanges(a,i,o.value);d&&this.wrapRangeInMappedTextNode(o,c,l,f=>t(f,a,o.value.substring(c,l),u),f=>{n(f,a)})}),s()})}unwrapMatches(e){const t=e.parentNode;let n=document.createDocumentFragment();for(;e.firstChild;)n.appendChild(e.removeChild(e.firstChild));t.replaceChild(n,e),this.ie?this.normalizeTextNode(t):t.normalize()}normalizeTextNode(e){if(e){if(e.nodeType===3)for(;e.nextSibling&&e.nextSibling.nodeType===3;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);else this.normalizeTextNode(e.firstChild);this.normalizeTextNode(e.nextSibling)}}markRegExp(e,t){this.opt=t,this.log(`Searching with expression "${e}"`);let n=0,s="wrapMatches";const o=i=>{n++,this.opt.each(i)};this.opt.acrossElements&&(s="wrapMatchesAcrossElements"),this[s](e,this.opt.ignoreGroups,(i,a)=>this.opt.filter(a,i,n),o,()=>{n===0&&this.opt.noMatch(e),this.opt.done(n)})}mark(e,t){this.opt=t;let n=0,s="wrapMatches";const{keywords:o,length:i}=this.getSeparatedKeywords(typeof e=="string"?[e]:e),a=this.opt.caseSensitive?"":"i",u=c=>{let l=new RegExp(this.createRegExp(c),`gm${a}`),d=0;this.log(`Searching with expression "${l}"`),this[s](l,1,(f,g)=>this.opt.filter(g,c,n,d),f=>{d++,n++,this.opt.each(f)},()=>{d===0&&this.opt.noMatch(c),o[i-1]===c?this.opt.done(n):u(o[o.indexOf(c)+1])})};this.opt.acrossElements&&(s="wrapMatchesAcrossElements"),i===0?this.opt.done(n):u(o[0])}markRanges(e,t){this.opt=t;let n=0,s=this.checkRanges(e);s&&s.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(s)),this.wrapRangeFromIndex(s,(o,i,a,u)=>this.opt.filter(o,i,a,u),(o,i)=>{n++,this.opt.each(o,i)},()=>{this.opt.done(n)})):this.opt.done(n)}unmark(e){this.opt=e;let t=this.opt.element?this.opt.element:"*";t+="[data-markjs]",this.opt.className&&(t+=`.${this.opt.className}`),this.log(`Removal selector "${t}"`),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,n=>{this.unwrapMatches(n)},n=>{const s=ie.matches(n,t),o=this.matchesExclude(n);return!s||o?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},this.opt.done)}};function Fs(r){const e=new ns(r);return this.mark=(t,n)=>(e.mark(t,n),this),this.markRegExp=(t,n)=>(e.markRegExp(t,n),this),this.markRanges=(t,n)=>(e.markRanges(t,n),this),this.unmark=t=>(e.unmark(t),this),this}const rs="ENTRIES",en="KEYS",tn="VALUES",j="";class Re{constructor(e,t){const n=e._tree,s=Array.from(n.keys());this.set=e,this._type=t,this._path=s.length>0?[{node:n,keys:s}]:[]}next(){const e=this.dive();return this.backtrack(),e}dive(){if(this._path.length===0)return{done:!0,value:void 0};const{node:e,keys:t}=se(this._path);if(se(t)===j)return{done:!1,value:this.result()};const n=e.get(se(t));return this._path.push({node:n,keys:Array.from(n.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;const e=se(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:e})=>se(e)).filter(e=>e!==j).join("")}value(){return se(this._path).node.get(j)}result(){switch(this._type){case tn:return this.value();case en:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}}const se=r=>r[r.length-1],ss=(r,e,t)=>{const n=new Map;if(e===void 0)return n;const s=e.length+1,o=s+t,i=new Uint8Array(o*s).fill(t+1);for(let a=0;a<s;++a)i[a]=a;for(let a=1;a<o;++a)i[a*s]=a;return nn(r,e,t,n,i,1,s,""),n},nn=(r,e,t,n,s,o,i,a)=>{const u=o*i;e:for(const c of r.keys())if(c===j){const l=s[u-1];l<=t&&n.set(a,[r.get(c),l])}else{let l=o;for(let d=0;d<c.length;++d,++l){const f=c[d],g=i*l,m=g-i;let v=s[g];const b=Math.max(0,l-t-1),S=Math.min(i-1,l+t);for(let x=b;x<S;++x){const D=f!==e[x],N=s[m+x]+ +D,L=s[m+x+1]+1,O=s[g+x]+1,w=s[g+x+1]=Math.min(N,L,O);w<v&&(v=w)}if(v>t)continue e}nn(r.get(c),e,t,n,s,l,i,a+c)}};class U{constructor(e=new Map,t=""){this._size=void 0,this._tree=e,this._prefix=t}atPrefix(e){if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");const[t,n]=xe(this._tree,e.slice(this._prefix.length));if(t===void 0){const[s,o]=st(n);for(const i of s.keys())if(i!==j&&i.startsWith(o)){const a=new Map;return a.set(i.slice(o.length),s.get(i)),new U(a,e)}}return new U(t,e)}clear(){this._size=void 0,this._tree.clear()}delete(e){return this._size=void 0,is(this._tree,e)}entries(){return new Re(this,rs)}forEach(e){for(const[t,n]of this)e(t,n,this)}fuzzyGet(e,t){return ss(this._tree,e,t)}get(e){const t=Ye(this._tree,e);return t!==void 0?t.get(j):void 0}has(e){const t=Ye(this._tree,e);return t!==void 0&&t.has(j)}keys(){return new Re(this,en)}set(e,t){if(typeof e!="string")throw new Error("key must be a string");return this._size=void 0,Le(this._tree,e).set(j,t),this}get size(){if(this._size)return this._size;this._size=0;const e=this.entries();for(;!e.next().done;)this._size+=1;return this._size}update(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;const n=Le(this._tree,e);return n.set(j,t(n.get(j))),this}fetch(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;const n=Le(this._tree,e);let s=n.get(j);return s===void 0&&n.set(j,s=t()),s}values(){return new Re(this,tn)}[Symbol.iterator](){return this.entries()}static from(e){const t=new U;for(const[n,s]of e)t.set(n,s);return t}static fromObject(e){return U.from(Object.entries(e))}}const xe=(r,e,t=[])=>{if(e.length===0||r==null)return[r,t];for(const n of r.keys())if(n!==j&&e.startsWith(n))return t.push([r,n]),xe(r.get(n),e.slice(n.length),t);return t.push([r,e]),xe(void 0,"",t)},Ye=(r,e)=>{if(e.length===0||r==null)return r;for(const t of r.keys())if(t!==j&&e.startsWith(t))return Ye(r.get(t),e.slice(t.length))},Le=(r,e)=>{const t=e.length;e:for(let n=0;r&&n<t;){for(const o of r.keys())if(o!==j&&e[n]===o[0]){const i=Math.min(t-n,o.length);let a=1;for(;a<i&&e[n+a]===o[a];)++a;const u=r.get(o);if(a===o.length)r=u;else{const c=new Map;c.set(o.slice(a),u),r.set(e.slice(n,n+a),c),r.delete(o),r=c}n+=a;continue e}const s=new Map;return r.set(e.slice(n),s),s}return r},is=(r,e)=>{const[t,n]=xe(r,e);if(t!==void 0){if(t.delete(j),t.size===0)rn(n);else if(t.size===1){const[s,o]=t.entries().next().value;sn(n,s,o)}}},rn=r=>{if(r.length===0)return;const[e,t]=st(r);if(e.delete(t),e.size===0)rn(r.slice(0,-1));else if(e.size===1){const[n,s]=e.entries().next().value;n!==j&&sn(r.slice(0,-1),n,s)}},sn=(r,e,t)=>{if(r.length===0)return;const[n,s]=st(r);n.set(s+e,t),n.delete(s)},st=r=>r[r.length-1],it="or",on="and",os="and_not";class le{constructor(e){if((e==null?void 0:e.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');const t=e.autoVacuum==null||e.autoVacuum===!0?ze:e.autoVacuum;this._options={...Pe,...e,autoVacuum:t,searchOptions:{...St,...e.searchOptions||{}},autoSuggestOptions:{...ds,...e.autoSuggestOptions||{}}},this._index=new U,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=Qe,this.addFields(this._options.fields)}add(e){const{extractField:t,stringifyField:n,tokenize:s,processTerm:o,fields:i,idField:a}=this._options,u=t(e,a);if(u==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);if(this._idToShortId.has(u))throw new Error(`MiniSearch: duplicate ID ${u}`);const c=this.addDocumentId(u);this.saveStoredFields(c,e);for(const l of i){const d=t(e,l);if(d==null)continue;const f=s(n(d,l),l),g=this._fieldIds[l],m=new Set(f).size;this.addFieldLength(c,g,this._documentCount-1,m);for(const v of f){const b=o(v,l);if(Array.isArray(b))for(const S of b)this.addTerm(g,c,S);else b&&this.addTerm(g,c,b)}}}addAll(e){for(const t of e)this.add(t)}addAllAsync(e,t={}){const{chunkSize:n=10}=t,s={chunk:[],promise:Promise.resolve()},{chunk:o,promise:i}=e.reduce(({chunk:a,promise:u},c,l)=>(a.push(c),(l+1)%n===0?{chunk:[],promise:u.then(()=>new Promise(d=>setTimeout(d,0))).then(()=>this.addAll(a))}:{chunk:a,promise:u}),s);return i.then(()=>this.addAll(o))}remove(e){const{tokenize:t,processTerm:n,extractField:s,stringifyField:o,fields:i,idField:a}=this._options,u=s(e,a);if(u==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);const c=this._idToShortId.get(u);if(c==null)throw new Error(`MiniSearch: cannot remove document with ID ${u}: it is not in the index`);for(const l of i){const d=s(e,l);if(d==null)continue;const f=t(o(d,l),l),g=this._fieldIds[l],m=new Set(f).size;this.removeFieldLength(c,g,this._documentCount,m);for(const v of f){const b=n(v,l);if(Array.isArray(b))for(const S of b)this.removeTerm(g,c,S);else b&&this.removeTerm(g,c,b)}}this._storedFields.delete(c),this._documentIds.delete(c),this._idToShortId.delete(u),this._fieldLength.delete(c),this._documentCount-=1}removeAll(e){if(e)for(const t of e)this.remove(t);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new U,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(e){const t=this._idToShortId.get(e);if(t==null)throw new Error(`MiniSearch: cannot discard document with ID ${e}: it is not in the index`);this._idToShortId.delete(e),this._documentIds.delete(t),this._storedFields.delete(t),(this._fieldLength.get(t)||[]).forEach((n,s)=>{this.removeFieldLength(t,s,this._documentCount,n)}),this._fieldLength.delete(t),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;const{minDirtFactor:e,minDirtCount:t,batchSize:n,batchWait:s}=this._options.autoVacuum;this.conditionalVacuum({batchSize:n,batchWait:s},{minDirtCount:t,minDirtFactor:e})}discardAll(e){const t=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(const n of e)this.discard(n)}finally{this._options.autoVacuum=t}this.maybeAutoVacuum()}replace(e){const{idField:t,extractField:n}=this._options,s=n(e,t);this.discard(s),this.add(e)}vacuum(e={}){return this.conditionalVacuum(e)}conditionalVacuum(e,t){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{const n=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=Qe,this.performVacuuming(e,n)}),this._enqueuedVacuum)):this.vacuumConditionsMet(t)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}async performVacuuming(e,t){const n=this._dirtCount;if(this.vacuumConditionsMet(t)){const s=e.batchSize||Ue.batchSize,o=e.batchWait||Ue.batchWait;let i=1;for(const[a,u]of this._index){for(const[c,l]of u)for(const[d]of l)this._documentIds.has(d)||(l.size<=1?u.delete(c):l.delete(d));this._index.get(a).size===0&&this._index.delete(a),i%s===0&&await new Promise(c=>setTimeout(c,o)),i+=1}this._dirtCount-=n}await null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null}vacuumConditionsMet(e){if(e==null)return!0;let{minDirtCount:t,minDirtFactor:n}=e;return t=t||ze.minDirtCount,n=n||ze.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=n}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(e){return this._idToShortId.has(e)}getStoredFields(e){const t=this._idToShortId.get(e);if(t!=null)return this._storedFields.get(t)}search(e,t={}){const{searchOptions:n}=this._options,s={...n,...t},o=this.executeQuery(e,t),i=[];for(const[a,{score:u,terms:c,match:l}]of o){const d=c.length||1,f={id:this._documentIds.get(a),score:u*d,terms:Object.keys(l),queryTerms:c,match:l};Object.assign(f,this._storedFields.get(a)),(s.filter==null||s.filter(f))&&i.push(f)}return e===le.wildcard&&s.boostDocument==null||i.sort(_t),i}autoSuggest(e,t={}){t={...this._options.autoSuggestOptions,...t};const n=new Map;for(const{score:o,terms:i}of this.search(e,t)){const a=i.join(" "),u=n.get(a);u!=null?(u.score+=o,u.count+=1):n.set(a,{score:o,terms:i,count:1})}const s=[];for(const[o,{score:i,terms:a,count:u}]of n)s.push({suggestion:o,terms:a,score:i/u});return s.sort(_t),s}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(e,t){if(t==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),t)}static async loadJSONAsync(e,t){if(t==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(e),t)}static getDefault(e){if(Pe.hasOwnProperty(e))return Be(Pe,e);throw new Error(`MiniSearch: unknown option "${e}"`)}static loadJS(e,t){const{index:n,documentIds:s,fieldLength:o,storedFields:i,serializationVersion:a}=e,u=this.instantiateMiniSearch(e,t);u._documentIds=me(s),u._fieldLength=me(o),u._storedFields=me(i);for(const[c,l]of u._documentIds)u._idToShortId.set(l,c);for(const[c,l]of n){const d=new Map;for(const f of Object.keys(l)){let g=l[f];a===1&&(g=g.ds),d.set(parseInt(f,10),me(g))}u._index.set(c,d)}return u}static async loadJSAsync(e,t){const{index:n,documentIds:s,fieldLength:o,storedFields:i,serializationVersion:a}=e,u=this.instantiateMiniSearch(e,t);u._documentIds=await ve(s),u._fieldLength=await ve(o),u._storedFields=await ve(i);for(const[l,d]of u._documentIds)u._idToShortId.set(d,l);let c=0;for(const[l,d]of n){const f=new Map;for(const g of Object.keys(d)){let m=d[g];a===1&&(m=m.ds),f.set(parseInt(g,10),await ve(m))}++c%1e3===0&&await an(0),u._index.set(l,f)}return u}static instantiateMiniSearch(e,t){const{documentCount:n,nextId:s,fieldIds:o,averageFieldLength:i,dirtCount:a,serializationVersion:u}=e;if(u!==1&&u!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");const c=new le(t);return c._documentCount=n,c._nextId=s,c._idToShortId=new Map,c._fieldIds=o,c._avgFieldLength=i,c._dirtCount=a||0,c._index=new U,c}executeQuery(e,t={}){if(e===le.wildcard)return this.executeWildcardQuery(t);if(typeof e!="string"){const f={...t,...e,queries:void 0},g=e.queries.map(m=>this.executeQuery(m,f));return this.combineResults(g,f.combineWith)}const{tokenize:n,processTerm:s,searchOptions:o}=this._options,i={tokenize:n,processTerm:s,...o,...t},{tokenize:a,processTerm:u}=i,d=a(e).flatMap(f=>u(f)).filter(f=>!!f).map(ls(i)).map(f=>this.executeQuerySpec(f,i));return this.combineResults(d,i.combineWith)}executeQuerySpec(e,t){const n={...this._options.searchOptions,...t},s=(n.fields||this._options.fields).reduce((v,b)=>({...v,[b]:Be(n.boost,b)||1}),{}),{boostDocument:o,weights:i,maxFuzzy:a,bm25:u}=n,{fuzzy:c,prefix:l}={...St.weights,...i},d=this._index.get(e.term),f=this.termResults(e.term,e.term,1,e.termBoost,d,s,o,u);let g,m;if(e.prefix&&(g=this._index.atPrefix(e.term)),e.fuzzy){const v=e.fuzzy===!0?.2:e.fuzzy,b=v<1?Math.min(a,Math.round(e.term.length*v)):v;b&&(m=this._index.fuzzyGet(e.term,b))}if(g)for(const[v,b]of g){const S=v.length-e.term.length;if(!S)continue;m==null||m.delete(v);const x=l*v.length/(v.length+.3*S);this.termResults(e.term,v,x,e.termBoost,b,s,o,u,f)}if(m)for(const v of m.keys()){const[b,S]=m.get(v);if(!S)continue;const x=c*v.length/(v.length+S);this.termResults(e.term,v,x,e.termBoost,b,s,o,u,f)}return f}executeWildcardQuery(e){const t=new Map,n={...this._options.searchOptions,...e};for(const[s,o]of this._documentIds){const i=n.boostDocument?n.boostDocument(o,"",this._storedFields.get(s)):1;t.set(s,{score:i,terms:[],match:{}})}return t}combineResults(e,t=it){if(e.length===0)return new Map;const n=t.toLowerCase(),s=as[n];if(!s)throw new Error(`Invalid combination operator: ${t}`);return e.reduce(s)||new Map}toJSON(){const e=[];for(const[t,n]of this._index){const s={};for(const[o,i]of n)s[o]=Object.fromEntries(i);e.push([t,s])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:e,serializationVersion:2}}termResults(e,t,n,s,o,i,a,u,c=new Map){if(o==null)return c;for(const l of Object.keys(i)){const d=i[l],f=this._fieldIds[l],g=o.get(f);if(g==null)continue;let m=g.size;const v=this._avgFieldLength[f];for(const b of g.keys()){if(!this._documentIds.has(b)){this.removeTerm(f,b,t),m-=1;continue}const S=a?a(this._documentIds.get(b),t,this._storedFields.get(b)):1;if(!S)continue;const x=g.get(b),D=this._fieldLength.get(b)[f],N=cs(x,m,this._documentCount,D,v,u),L=n*s*d*S*N,O=c.get(b);if(O){O.score+=L,hs(O.terms,e);const w=Be(O.match,t);w?w.push(l):O.match[t]=[l]}else c.set(b,{score:L,terms:[e],match:{[t]:[l]}})}}return c}addTerm(e,t,n){const s=this._index.fetch(n,xt);let o=s.get(e);if(o==null)o=new Map,o.set(t,1),s.set(e,o);else{const i=o.get(t);o.set(t,(i||0)+1)}}removeTerm(e,t,n){if(!this._index.has(n)){this.warnDocumentChanged(t,e,n);return}const s=this._index.fetch(n,xt),o=s.get(e);o==null||o.get(t)==null?this.warnDocumentChanged(t,e,n):o.get(t)<=1?o.size<=1?s.delete(e):o.delete(t):o.set(t,o.get(t)-1),this._index.get(n).size===0&&this._index.delete(n)}warnDocumentChanged(e,t,n){for(const s of Object.keys(this._fieldIds))if(this._fieldIds[s]===t){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(e)} has changed before removal: term "${n}" was not present in field "${s}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(e){const t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t}addFields(e){for(let t=0;t<e.length;t++)this._fieldIds[e[t]]=t}addFieldLength(e,t,n,s){let o=this._fieldLength.get(e);o==null&&this._fieldLength.set(e,o=[]),o[t]=s;const a=(this._avgFieldLength[t]||0)*n+s;this._avgFieldLength[t]=a/(n+1)}removeFieldLength(e,t,n,s){if(n===1){this._avgFieldLength[t]=0;return}const o=this._avgFieldLength[t]*n-s;this._avgFieldLength[t]=o/(n-1)}saveStoredFields(e,t){const{storeFields:n,extractField:s}=this._options;if(n==null||n.length===0)return;let o=this._storedFields.get(e);o==null&&this._storedFields.set(e,o={});for(const i of n){const a=s(t,i);a!==void 0&&(o[i]=a)}}}le.wildcard=Symbol("*");const Be=(r,e)=>Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0,as={[it]:(r,e)=>{for(const t of e.keys()){const n=r.get(t);if(n==null)r.set(t,e.get(t));else{const{score:s,terms:o,match:i}=e.get(t);n.score=n.score+s,n.match=Object.assign(n.match,i),At(n.terms,o)}}return r},[on]:(r,e)=>{const t=new Map;for(const n of e.keys()){const s=r.get(n);if(s==null)continue;const{score:o,terms:i,match:a}=e.get(n);At(s.terms,i),t.set(n,{score:s.score+o,terms:s.terms,match:Object.assign(s.match,a)})}return t},[os]:(r,e)=>{for(const t of e.keys())r.delete(t);return r}},us={k:1.2,b:.7,d:.5},cs=(r,e,t,n,s,o)=>{const{k:i,b:a,d:u}=o;return Math.log(1+(t-e+.5)/(e+.5))*(u+r*(i+1)/(r+i*(1-a+a*n/s)))},ls=r=>(e,t,n)=>{const s=typeof r.fuzzy=="function"?r.fuzzy(e,t,n):r.fuzzy||!1,o=typeof r.prefix=="function"?r.prefix(e,t,n):r.prefix===!0,i=typeof r.boostTerm=="function"?r.boostTerm(e,t,n):1;return{term:e,fuzzy:s,prefix:o,termBoost:i}},Pe={idField:"id",extractField:(r,e)=>r[e],stringifyField:(r,e)=>r.toString(),tokenize:r=>r.split(fs),processTerm:r=>r.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(r,e)=>{typeof(console==null?void 0:console[r])=="function"&&console[r](e)},autoVacuum:!0},St={combineWith:it,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:us},ds={combineWith:on,prefix:(r,e,t)=>e===t.length-1},Ue={batchSize:1e3,batchWait:10},Qe={minDirtFactor:.1,minDirtCount:20},ze={...Ue,...Qe},hs=(r,e)=>{r.includes(e)||r.push(e)},At=(r,e)=>{for(const t of e)r.includes(t)||r.push(t)},_t=({score:r},{score:e})=>e-r,xt=()=>new Map,me=r=>{const e=new Map;for(const t of Object.keys(r))e.set(parseInt(t,10),r[t]);return e},ve=async r=>{const e=new Map;let t=0;for(const n of Object.keys(r))e.set(parseInt(n,10),r[n]),++t%1e3===0&&await an(0);return e},an=r=>new Promise(e=>setTimeout(e,r)),fs=/[\n\r\p{Z}\p{P}]+/u;export{de as F,le as M,bs as a,Lt as b,As as c,Ss as d,ws as e,_s as f,ms as g,Es as h,ys as i,H as j,Fs as k,vs as o,Dn as u,gs as w};
